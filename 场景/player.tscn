[gd_scene load_steps=43 format=3 uid="uid://um203bepm614"]

[ext_resource type="Texture2D" uid="uid://dyk217uj8rcpw" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose without Sword/01-Idle/Idle 01.png" id="1_4n3ge"]
[ext_resource type="Texture2D" uid="uid://cmdjp444h2bdf" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose without Sword/04-Fall/Fall 01.png" id="1_adhs5"]
[ext_resource type="Script" path="res://脚本/player/player.gd" id="1_ju201"]
[ext_resource type="Texture2D" uid="uid://cyikciw6pm4iy" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose without Sword/01-Idle/Idle 02.png" id="2_vbwkd"]
[ext_resource type="Texture2D" uid="uid://cvlhv3uuayh1g" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose without Sword/01-Idle/Idle 03.png" id="3_46g6a"]
[ext_resource type="Texture2D" uid="uid://bqtf5d1ivihrk" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose with Sword/12-Fall Sword/Fall Sword 01.png" id="3_ravf0"]
[ext_resource type="Texture2D" uid="uid://biclc61jti6bu" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose without Sword/01-Idle/Idle 04.png" id="4_fddus"]
[ext_resource type="Texture2D" uid="uid://dcydpnhm6b7cx" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose without Sword/01-Idle/Idle 05.png" id="5_piw63"]
[ext_resource type="Texture2D" uid="uid://rdu6un8jqj8g" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose without Sword/02-Run/Run 01.png" id="6_ogfmb"]
[ext_resource type="Texture2D" uid="uid://c7mj42ae4jes8" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose without Sword/02-Run/Run 02.png" id="7_6mh6u"]
[ext_resource type="Texture2D" uid="uid://bm204mroi0ek0" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose without Sword/03-Jump/Jump 01.png" id="7_srk4o"]
[ext_resource type="Texture2D" uid="uid://82gj40736sbl" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose without Sword/02-Run/Run 03.png" id="8_fmyd6"]
[ext_resource type="Texture2D" uid="uid://cwqq32gngtst7" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose without Sword/03-Jump/Jump 02.png" id="8_v8o83"]
[ext_resource type="Texture2D" uid="uid://du2le2v6mlsp7" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose with Sword/09-Idle Sword/Idle Sword 01.png" id="9_mn1cg"]
[ext_resource type="Texture2D" uid="uid://c4v51d85p3tgp" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose without Sword/03-Jump/Jump 03.png" id="9_npvvq"]
[ext_resource type="Texture2D" uid="uid://ye2rb4elifmc" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose without Sword/02-Run/Run 04.png" id="9_rx1hh"]
[ext_resource type="Texture2D" uid="uid://bulnjks82mr7v" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose with Sword/09-Idle Sword/Idle Sword 02.png" id="10_a1vqh"]
[ext_resource type="Texture2D" uid="uid://7ybbu2w52ybx" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose without Sword/02-Run/Run 05.png" id="10_xj043"]
[ext_resource type="Texture2D" uid="uid://bkq035fmqeqfs" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose with Sword/09-Idle Sword/Idle Sword 03.png" id="11_iitq4"]
[ext_resource type="Texture2D" uid="uid://cgf0a54qvwhwx" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose without Sword/02-Run/Run 06.png" id="11_p1pv8"]
[ext_resource type="Texture2D" uid="uid://gka6daf3ub3" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose with Sword/09-Idle Sword/Idle Sword 04.png" id="12_hb1su"]
[ext_resource type="Texture2D" uid="uid://djeqtua78obdh" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose with Sword/09-Idle Sword/Idle Sword 05.png" id="13_brhhh"]
[ext_resource type="Texture2D" uid="uid://3qmghynw78jl" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose with Sword/11-Jump Sword/Jump Sword 01.png" id="17_exk88"]
[ext_resource type="Script" path="res://脚本/fsm/fsm.gd" id="17_ntn2l"]
[ext_resource type="Script" path="res://脚本/player/states/player_idle_state.gd" id="18_aj0k8"]
[ext_resource type="Texture2D" uid="uid://vjvm03lyrmvf" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose with Sword/11-Jump Sword/Jump Sword 02.png" id="18_y06j7"]
[ext_resource type="Texture2D" uid="uid://b43r36n37u6sw" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose with Sword/11-Jump Sword/Jump Sword 03.png" id="19_64p7g"]
[ext_resource type="Script" path="res://脚本/player/states/player_run_state.gd" id="19_pnhcx"]
[ext_resource type="Script" path="res://脚本/player/states/player_jump_state.gd" id="20_p34c2"]
[ext_resource type="Script" path="res://脚本/player/states/player_fall_state.gd" id="21_qtbke"]
[ext_resource type="Script" path="res://脚本/player/input_handler.gd" id="22_60d85"]
[ext_resource type="Texture2D" uid="uid://o8fgypm3ocr2" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose with Sword/10-Run Sword/Run Sword 01.png" id="26_4cuxa"]
[ext_resource type="Texture2D" uid="uid://dt667cr26rvfn" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose with Sword/10-Run Sword/Run Sword 02.png" id="27_2ahe4"]
[ext_resource type="Texture2D" uid="uid://cf2bqmfm55kf5" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose with Sword/10-Run Sword/Run Sword 03.png" id="28_cl7c4"]
[ext_resource type="Texture2D" uid="uid://os2fh13r7j18" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose with Sword/10-Run Sword/Run Sword 04.png" id="29_e1hec"]
[ext_resource type="Texture2D" uid="uid://d3sh3aitvc24j" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose with Sword/10-Run Sword/Run Sword 05.png" id="30_2o3bp"]
[ext_resource type="Texture2D" uid="uid://2ngtlnesl4cy" path="res://资源/Treasure Hunters/Captain Clown Nose/Sprites/Captain Clown Nose/Captain Clown Nose with Sword/10-Run Sword/Run Sword 06.png" id="31_fuvhl"]
[ext_resource type="AudioStream" uid="uid://dbr1to6kkxdht" path="res://资源/Sound Effects/Voices/209171__lukesharples__hagh.wav" id="36_plj6y"]
[ext_resource type="AudioStream" uid="uid://bjdnmcdo6ge08" path="res://资源/Sound Effects/Impacts/209133__lukesharples__fall-to-the-floor.wav" id="38_5uaid"]
[ext_resource type="AudioStream" uid="uid://cupma5xmn5bq2" path="res://资源/Sound Effects/Footsteps/209195__lukesharples__shoes2.wav" id="38_hoc5g"]

[sub_resource type="SpriteFrames" id="SpriteFrames_ugx7t"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("1_adhs5")
}],
"loop": false,
"name": &"fall",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("3_ravf0")
}],
"loop": false,
"name": &"fall_sword",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("1_4n3ge")
}, {
"duration": 1.0,
"texture": ExtResource("2_vbwkd")
}, {
"duration": 1.0,
"texture": ExtResource("3_46g6a")
}, {
"duration": 1.0,
"texture": ExtResource("4_fddus")
}, {
"duration": 1.0,
"texture": ExtResource("5_piw63")
}],
"loop": true,
"name": &"idle",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("9_mn1cg")
}, {
"duration": 1.0,
"texture": ExtResource("10_a1vqh")
}, {
"duration": 1.0,
"texture": ExtResource("11_iitq4")
}, {
"duration": 1.0,
"texture": ExtResource("12_hb1su")
}, {
"duration": 1.0,
"texture": ExtResource("13_brhhh")
}],
"loop": true,
"name": &"idle_sword",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("7_srk4o")
}, {
"duration": 1.0,
"texture": ExtResource("8_v8o83")
}, {
"duration": 1.0,
"texture": ExtResource("9_npvvq")
}],
"loop": false,
"name": &"jump",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("17_exk88")
}, {
"duration": 1.0,
"texture": ExtResource("18_y06j7")
}, {
"duration": 1.0,
"texture": ExtResource("19_64p7g")
}],
"loop": false,
"name": &"jump_sword",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("6_ogfmb")
}, {
"duration": 1.0,
"texture": ExtResource("7_6mh6u")
}, {
"duration": 1.0,
"texture": ExtResource("8_fmyd6")
}, {
"duration": 1.0,
"texture": ExtResource("9_rx1hh")
}, {
"duration": 1.0,
"texture": ExtResource("10_xj043")
}, {
"duration": 1.0,
"texture": ExtResource("11_p1pv8")
}],
"loop": true,
"name": &"run",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("26_4cuxa")
}, {
"duration": 1.0,
"texture": ExtResource("27_2ahe4")
}, {
"duration": 1.0,
"texture": ExtResource("28_cl7c4")
}, {
"duration": 1.0,
"texture": ExtResource("29_e1hec")
}, {
"duration": 1.0,
"texture": ExtResource("30_2o3bp")
}, {
"duration": 1.0,
"texture": ExtResource("31_fuvhl")
}],
"loop": true,
"name": &"run_sword",
"speed": 10.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_dqnsv"]
size = Vector2(14, 20)

[node name="player" type="CharacterBody2D"]
collision_mask = 2
script = ExtResource("1_ju201")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
position = Vector2(0, -2)
sprite_frames = SubResource("SpriteFrames_ugx7t")
animation = &"fall_sword"
autoplay = "idle"

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_dqnsv")

[node name="FSM" type="Node" parent="."]
script = ExtResource("17_ntn2l")

[node name="Idle" type="Node" parent="FSM"]
script = ExtResource("18_aj0k8")

[node name="Run" type="Node" parent="FSM"]
script = ExtResource("19_pnhcx")

[node name="FootstepsSFX" type="AudioStreamPlayer" parent="FSM/Run"]
stream = ExtResource("38_hoc5g")
bus = &"SFX"

[node name="Jump" type="Node" parent="FSM"]
script = ExtResource("20_p34c2")

[node name="jumpSFX" type="AudioStreamPlayer" parent="FSM/Jump"]
stream = ExtResource("36_plj6y")
bus = &"SFX"

[node name="Fall" type="Node" parent="FSM"]
script = ExtResource("21_qtbke")

[node name="CoyoteTimer" type="Timer" parent="FSM/Fall"]
process_callback = 0
wait_time = 0.1
one_shot = true

[node name="LandingSFX" type="AudioStreamPlayer" parent="FSM/Fall"]
stream = ExtResource("38_5uaid")
bus = &"SFX"

[node name="InputHandler" type="Node" parent="."]
script = ExtResource("22_60d85")

[node name="JumpBufferTimer" type="Timer" parent="InputHandler"]
process_callback = 0
wait_time = 0.1
one_shot = true
